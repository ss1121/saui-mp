require("../../runtime.js"),(wx.webpackJsonp=wx.webpackJsonp||[]).push([[23],{75:function(t,i,e){"use strict";var a,n=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done)&&(e.push(o.value),!i||e.length!==i);a=!0);}catch(t){n=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(n)throw s}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var r=getApp(),d=e(0),l=d.lib,u=["itemClass","class"],c=["radio","checkbox"],p={uid:void 0,title:void 0,desc:void 0,itemClass:"input-item",itemStyle:void 0,required:void 0,show:!0,union:void 0},v=(o(a={uid:void 0,uAddress:void 0,title:void 0,desc:void 0,error:void 0,eye:void 0,readonly:!1,test:void 0,show:!0,attr:void 0,maxlength:void 0,placeholder:void 0,id:void 0,name:void 0,value:void 0,type:"text",disabled:!1,union:void 0},"attr",void 0),o(a,"itemClass","input-item-input"),o(a,"class",void 0),o(a,"itemStyle",void 0),o(a,"style",void 0),o(a,"titles",void 0),o(a,"descs",void 0),o(a,"values",void 0),o(a,"checked",void 0),o(a,"plain",void 0),o(a,"size",void 0),o(a,"loading",void 0),o(a,"form-type",void 0),o(a,"open-type",void 0),o(a,"hover-class",void 0),o(a,"hover-stop-propagation",void 0),o(a,"hover-start-time",void 0),o(a,"hover-stay-time",void 0),o(a,"lang","en"),o(a,"session-from",void 0),o(a,"send-message-title",void 0),o(a,"send-message-path",void 0),o(a,"send-message-img",void 0),o(a,"app-parameter",void 0),o(a,"show-message-card",void 0),o(a,"bindgetuserinfo",void 0),o(a,"bindcontact",void 0),o(a,"bindgetphonenumber",void 0),o(a,"binderror",void 0),o(a,"bindopensetting",void 0),o(a,"bindlaunchapp",void 0),o(a,"tap",void 0),o(a,"min",void 0),o(a,"max",void 0),o(a,"step",void 0),o(a,"color",void 0),o(a,"selected-color",void 0),o(a,"activeColor",void 0),o(a,"backgroundColor",void 0),o(a,"block-size",void 0),o(a,"block-color",void 0),o(a,"show-value",void 0),o(a,"mode",void 0),o(a,"bindcancel",void 0),o(a,"bindinput",void 0),o(a,"bindfocus",void 0),o(a,"bindblur",void 0),o(a,"bindconfirm",void 0),o(a,"bindchange",void 0),o(a,"bindchanging",void 0),o(a,"bindcolumnchange",void 0),o(a,"cursor-spacing",void 0),o(a,"confirm-type",void 0),o(a,"confirm-hold",void 0),o(a,"confirm-hold",void 0),o(a,"adjust-position",void 0),a),f=Object.keys(v),h=Object.keys(p);function b(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input-item-title";if(t)return l.isString(t)&&(t={title:t}),l.isObject(t)&&(t.itemClass=i+" "+(t.itemClass||"")),l.isArray(t)&&(t={title:t,itemClass:i}),t}function m(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e={};return Object.keys(t).forEach(function(a){return i.includes(a)?e[a]=t[a]:""}),e}function y(t,i){if(l.isArray(t.values)){for(var e=t.titles?t.titles:[],a=t.value?t.value:[],n=t.values,s=n.length,o=function(t){var s=n[t];if(!l.isArray(s))return console.log("picker类型的组件要求input.values为二维数组! 类似[[], []]"),"break";var o=[],r=0;s.forEach(function(t,i){t.select&&(r=i),"string"!=typeof t&&"number"!=typeof t||(t={title:t.toString()}),t.title&&o.push(t.title)}),i&&(a[t]||0==a[t])&&(r=a[t]),a[t]=r,e[t]=o},r=0;r<s;r++){if("break"===o(r))break}t.value=a,t.titles=e}return t}function g(t,i){var e=this;if(l.isObject(t)){if(t.disabled=!!t.hasOwnProperty("disabled")&&t.disabled,t.uid=t.hasOwnProperty("uid")?t.uid:l.suid("input_input_"),t.uAddress=[i.uid,t.uid].join("."),t.union){var a=t.union;if(a.target||a.id){var n=t.id||t.name,s=a.target||a.id,r=a.callback;if("function"==typeof r){var d={id:n,address:"",assets:{},inputData:{},setData:function(){e.setData.apply(e,arguments)},save:function(t){t&&l.isObject(t)?this.setData(o({},d.address,t)):e.setData(o({},d.address,d.inputData))}};this.hooks.on("change",function(i){var a=i.id,n=i.point;if(a==s){var o=e.getAddressInfo(t.uAddress);d.assets=e.getAddressInfo(t.uAddress).inputData,d.inputData=d.assets,d.address=o.address,r.call(d,{value:n.value})}})}}}return t.title&&(t.title=b(t.title)),t.desc&&(t.desc=b(t.desc,"input-item-desc")),t.error&&(t.error=b(t.error,"input-item-error")),"password"==t.type&&(t.eye=!t.hasOwnProperty("eye")||t.eye),"picker"==t.type&&(t=y(t)),"dropdown"==t.type&&l.isObject(t.titles)&&(t.eye="icon-arrows-b",t.titles.show=!1,l.isArray(t.titles.data)&&(t.titles.type={is:"scroll","scroll-y":!0,bindscroll:"inputItemDropdownScroll?abc=123"},t.titles.listClass="input-item-dropdown-options",t.titles.itemClass="input-item-dropdown-options-item",t.titles.data=t.titles.data.map(function(i,e){return"string"==typeof i&&(i={title:i}),i.parent?i.aim="inputItemDropdown?address="+t.uAddress+"&index="+e+"&value="+i.value+"&text="+i.title:i.tap="inputItemDropdown?address="+t.uAddress+"&index="+e+"&value="+i.value+"&text="+i.title,i}))),m(t,f)}}function D(t,i){var e=this,a={};if(l.isObject(t)){Object.keys(t).forEach(function(i){"input"!=i&&(u.indexOf(i)>-1?a.itemClass=t[i]?"inputItem "+t[i]:"inputItem":a[i]=t[i])}),a.uid=a.hasOwnProperty("uid")?a.uid:l.suid("input_profile_"),a=Object.assign({},p,function(t){if(t)return t.title&&(t.title=b(t.title,"profile-item-title")),t.desc&&(t.desc=b(t.desc,"profile-item-desc")),m(t,h)}(a));var n=[];[].concat(t.input||[]).forEach(function(t){l.isObject(t)&&n.push(Object.assign({},v,g.call(e,t,a)))});var s={};return n.forEach(function(t){var i=function(t){return c.indexOf(t.type)>-1?l.isString(t.name)?t.name||t.id:l.isArray(t.name)?t.name[0]:"":t.type?t.id||t.name:void 0}(t);i&&(s[i]=t)}),{itemAllocation:s,assets:n,itemProfile:a}}}function w(t){var i={};return t&&Object.keys(t).forEach(function(e){"data"!=e&&(i[e]=t[e])}),(i=function(t){return m(t,h)}(i)).show=!i.hasOwnProperty("show")||i.show,i}function O(t){var i=t,e=this.props=w(i||{}),a=function(t){var i=this,e={},a=[];return t.forEach(function(t,n){if("object"==(void 0===t?"undefined":s(t))){var o=D.call(i,t,n),r=o.itemAllocation,d=o.assets,u=o.itemProfile;e=Object.assign(e,r);var c={profile:u,input:d};c.uid=u.uid||l.suid("input_item_"),c&&a.push(c)}}),{allocation:e,data:a}}.call(this,i.data||[]),n=a.allocation,o=a.data;this.allocation=n,i.data=this.validInputs=o,this.setData({$dataSource:i,$validInputs:this.validInputs,$props:e})}function I(t,i){var e=t.inputData.id||t.inputData.name,a=this.allocation[e];a&&l.isObject(i)&&(this.allocation[e]=Object.assign({},a,i),i.value&&a.value!=i.value&&(a=this.allocation[e],this.hooks.emit("change",{id:e,point:a})))}function k(t,i,e,a){var n=this.activePage;if(l.isString(i.inputData[t])){var s=n[i.inputData[t]];if(l.isFunction(s)){var r="",d=s(e,i,this);d&&(r=d.inputData?d.inputData:d,"pickers"==a&&(r=y(r,e)),"cancel"!=a&&this.setData(o({},i.address,r)))}else"cancel"!=a&&this.setData(o({},i.address,i.inputData))}else{["picker","pickers","dropdown","checkbox","radio"].indexOf(i.inputData.type)>-1&&"cancel"!=a&&this.setData(o({},i.address,i.inputData))}}Component({options:{multipleSlots:!0,addGlobalClass:!0},properties:{dataSource:{type:Object,observer:function(t){this.mounted&&t&&O.call(this,t)}}},data:{$dataSource:{}},behaviors:[d.baseBehavior(r,"form")],lifetimes:{created:function(){this.generateUpdate("$dataSource"),this.$$is="form"},attached:function(){var t=this.properties.dataSource;O.call(this,t)},ready:function(){var t=this.data.$dataSource;this.mount(t.$$id),this.parentInstance=this._getAppVars(),l.isEmpty(this.parentInstance)?this.parentInstance=void 0:this.parentInstance.form=this}},methods:{find:function(t){var i=void 0,e=void 0,a=this.data.$validInputs;if(t){if(-1==t.indexOf(".")&&(a.forEach(function(a,n){a.uid==t&&(e=n,i=a)}),i))return{index:e,info:i};t.indexOf(".")>-1&&this.getAddressInfo(t)}},getAddressInfo:function(t){var i=void 0,e=void 0,a=void 0,s=void 0,o=void 0,r=void 0,d=void 0,l=this.data.$validInputs;if(t&&l.length){var u=t.split("."),c=n(u,2),p=c[0],v=c[1],f=this.find(p);if(f&&(o=[f.info],a=f.index,d=f.info.profile),v&&o.length&&(r=o[0].input.filter(function(t,i){if(t.uid==v)return s=i,!0})),r?(i="$validInputs["+a+"].input["+s+"]",e=r):o&&(i="$validInputs["+a+"]",e=o),i)return{address:i,inputData:e[0],profile:d}}},addWarn:function(t,i){this.value(t,{error:i})},addDesc:function(t,i){this.value(t,{desc:i})},removeWarn:function(t){this.value(t,{error:null})},removeDesc:function(t){this.value(t,{desc:null})},empty:function(t){var i=this.allocation,e={};Object.keys(i).forEach(function(t){e[t]={value:""}}),this.value(e)},profile:function(t,i){var e=this.allocation;if(t&&l.isString(t)){var a=e[t].uAddress.split(".")[0],n=this.find(a);n&&i&&l.isObject(i)&&(n.info.profile=Object.assign(n.info.profile,i),this.setData(o({},"$validInputs["+n.index+"]",n.info)))}},value:function(t,i){var e=this,a=this.allocation;if(!t)return a;if(!i)return a[t];if(l.isString(t)&&a[t]&&i){var n=a[t].uAddress,s=void 0,r=this.getAddressInfo(n);if(r){if(l.isString(i)){r.inputData.value=i;var d=r.inputData;r.inputData=d=g.call(this,d,r.profile),s=o({},r.address,d)}else if(l.isObject(i)){var u=Object.assign({},r.inputData,i);r.inputData=u=g.call(this,u,r.profile),s=o({},r.address,u)}a[t]=r.inputData,this.setData(s)}}if(l.isObject(t)){var c={};Object.keys(t).forEach(function(i){var n=t[i],s=a[i];if(s){var o=s.uAddress,r=e.getAddressInfo(o);if(r){if(l.isString(n))r.inputData.value=n,c[r.address]=r.inputData;else if(l.isObject(n)){var d=Object.assign({},r.inputData,n);c[r.address]=d}a[i]=r.inputData}}}),this.setData(c)}},inputItemDropdownScroll:function(t,i){},inputItemDropdown:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=(t.type,t.currentTarget.dataset),a=(t.detail,i.address),n=(i.index,i.value),s=i.text,o=this.getAddressInfo(a||e.address);if(o){if(e.eye){var r=!o.inputData.titles.show;o.inputData.titles.show=r,o.inputData.eye=r?"icon-arrows-t":"icon-arrows-b"}else s&&(o.inputData.titles.show=!1),I.call(this,o,{value:n||""}),o.inputData.value=s||"",o.param=i;k.call(this,"bindchange",o,t),k.call(this,"bindinput",o,t),k.call(this,"bindblur",o,t)}},inputItemMethod:function(t){var i=t.type,e=t.currentTarget.dataset,a=t.detail,n=e.address,s=this.getAddressInfo(n),o=this.activePage,r=this._rightEvent(t),d=r.fun,u=r.param;if(s)s.inputData.id||s.inputData.name;switch(i){case"confirm":k.call(this,"bindconfirm",s,t);break;case"focus":"dropdown"==s.inputData.type&&(s.inputData.titles.show=!0,s.inputData.eye="icon-arrows-t"),k.call(this,"bindfocus",s,t);break;case"blur":s.inputData.type,I.call(this,s,{value:a.value}),k.call(this,"bindblur",s,t);break;case"input":I.call(this,s,{value:a.value}),s.inputData.readonly||(s.inputData.value=a.value),k.call(this,"bindinput",s,t);break;case"tap":var c=this.parentInstance&&this.parentInstance[d]||o[d];if(l.isFunction(c)){var p=this.parentInstance||o;c.call(p,t,u,this)}}},openCloseEey:function(t){var i=t.currentTarget.dataset.address,e=this.getAddressInfo(i);e&&(e.inputData.type="password"==e.inputData.type?"text":"password",e.inputData.eye&&(e.inputData.eye="boolean"!=typeof e.inputData.eye||"icon-close-eye mr-10-r size16 color-227ce1"),this.setData(o({},e.address,e.inputData)))},rcChange:function(t){var i=t.currentTarget.dataset,e=t.detail,a=this.getAddressInfo(i.address);if(a){a.inputData.type;a.inputData.value=e.value,I.call(this,a,{value:e.value}),k.call(this,"bindchange",a,t),k.call(this,"bindchanging",a,t)}},pickersChange:function(t){var i=t.currentTarget.dataset,e=t.detail,a=this.getAddressInfo(i.address);if(a&&"cancel"!=t.type){a.inputData.type;var n=e.column,s=e.value;n||0===n?a.inputData.value[n]=s:a.inputData.value=s,I.call(this,a,{value:a.inputData.value}),n||0===n?k.call(this,"bindcolumnchange",a,t,"pickers"):k.call(this,"bindchange",a,t,"pickers")}else k.call(this,"bindcancel",a,t,"cancel")}}})}},[[75,0,1]]]);